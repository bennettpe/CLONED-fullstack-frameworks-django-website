{% extends 'base.html' %} 
{% load static %} 

{% block content %}
 <!-- BODY -->
<div class="container body-container">
    <ol class="breadcrumb bcrumb-margins">
        <li class="breadcrumb-item"> <a href="{% url 'index' %}"> <i class="fas fa-home fa-lg"></i> </a></li>
        <li class="breadcrumb-item"> <a href="{% url 'products' %}"> Products </a></li>
        <li class="breadcrumb-item active"> Body shell & Bonnet </li>
        <li class="breadcrumb-item"> <a href="{% url 'chassis' %}"> Chassis </a></li>
        <li class="breadcrumb-item"> <a href="{% url 'inner_body' %}"> Inner Body </a></li>
        <li class="breadcrumb-item"> <a href="{% url 'outer_body' %}"> Outer Body </a></li>
        <!-- MESSAGES -->
        {% include 'messages.html' %}
    </ol>
 
    <!-- Parts Heading -->
    <h2 class="pl-4 pr-4"> Bodyshell & Bonnet </h2>
    </br>

    <!-- Parts Diagram(s) -->
    <div class="row  pl-4 pr-4 justify-content-center text-center">
        <div class="col-md-6 col-sm-6">
            <img class=" img-fluid parts-diagram" data-toggle="magnify" src="/static/img/body/Bodyshell, wings, doors and bonnet - MK3.gif" alt="scparts">
            <h2 class="mb-2"> Bodyshell Mk3 </h2>
        </div>
        <div class="col-md-6 col-sm-6">
            <img class=" img-fluid parts-diagram" data-toggle="magnify" src="/static/img/body/Bodyshell, wings, doors and bonnet - MK4 and 1500.gif" alt="scparts">
            <h2 class="mb-2"> Bodyshell Mk4 & 1500 </h2>
        </div>
        <div class="col-md-6 col-sm-6">
            <img class=" img-fluid parts-diagram mt-4" data-toggle="magnify" src="/static/img/body/Bonnet and support tubes - MK3.gif" alt="scparts">
            <h2 class="mb-2"> Bonnet and support tubes Mk3 </h2>
        </div>
        <div class="col-md-6 col-sm-6">
            <img class=" img-fluid parts-diagram mt-4" data-toggle="magnify" src="/static/img/body/Bonnet and support tubes - MK4 and 1500.gif" alt="scparts">
            <h2 class="mb-2"> Bonnet & support tubes Mk4 & 1500 </h2>
        </div>
    </div>

    <!-- Parts Cards -->
<div class="row p-4">
    <!-- loop through the contents of products_list, 
         and assigns the current Product object in the list to the 'product' variable. -->
    {% for product in products_list %}
    <div class="col-md-3 p-2">
        <div class="card h-100 mb-3 parts-cards">
            <div class="card-body">
                <img src="{{ MEDIA_URL }}{{ product.image }}" class="card-img-top p-1" alt="scparts">
                <h3 class="card-title text-center mt2"> <u>{{ product.part_name }}</u> </h3>
                <p class="card-text"> <strong> Part no: </strong> {{ product.part_number }} </p>
                <p class="card-text"> <strong> Model: </strong> {{ product.vehicle_model }} </p>
                <p class="card-text"> <strong> Required: </strong> {{ product.required }} </p>
                <p class="card-text"> <strong> Diagram number: </strong> {{ product.diagram_number }} </p>
                <p class="card-text text-wrap"> <strong> Product description: </strong>
                    <br> {{ product.description }} </p>
                <p class="card-text"> <strong> Â£ {{ product.price }} </strong> </p>
            </div>
            <!-- Javascript buttons pass product.prat_number & csrf_token ---> 
            <div class="card-footer text-center">
                    <button id='disliked-button' data-part-number={{ product.part_number }} data-token="{{ csrf_token }}"
                    class="btn-diskliked btn btn-outline-danger" data-toggle="tooltip" title="Vote disliked"> 
				        <i class="fas fa-thumbs-down fa-2x"></i>
			        </button>
                   <button  id='liked-button' data-part-number="{{ product.part_number }}" data-token="{{ csrf_token }}"
                    class="btn-liked btn btn-outline-success" data-toggle="tooltip" title="Vote liked">
				        <i class="fas fa-thumbs-up fa-2x"></i>
			        </button>
                <form method="post" action="{% url 'add_to_cart' product.id %}">
                    {% csrf_token %}
                    <div class="input-group p-3">
                        <p>Qty : &nbsp;</p>
                        <input name="quantity" type="number" min="1" max="999" value="1" class="form-control" placeholder="Quantity">
                    </div>
                    <div class="text-center">
                        <button class="btn btn-success" type="submit"> Add to My Cart </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% block head_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
<!-- Disliked / Liked Button Javascript -->
<script type="text/javascript" src="{% static 'js/ratings.js' %}"></script>
{% endblock %}
</div>

<!-- BACK TO TOP -->
{% include 'bttop.html' %} 
{% endblock %}